<?= $this->extend('Information\container.html') ?>

<?= $this->section('content') ?>
<div class="my-3">
  <div class="my-3">
    <?= $this->include('Information\alerts.html') ?>
  </div>
  <div class="my-2">
    <div class="accordion" id="accordionSearch">
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingSearch">
          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSearch" aria-expanded="true" aria-controls="collapseSearch">
            <?= lang('Information.search') ?>
          </button>
        </h2>
        <div id="collapseSearch" class="accordion-collapse collapse show" aria-labelledby="headingSearch"
          data-bs-parent="#accordionSearch">
          <div class="accordion-body">
            <?= form_open('', ['method' => 'get']) ?>
            <div class="my-3">
              <div class="mb-3 row">
                <label class="col-sm-3 col-md-2 col-form-label" for="p"><?= lang('Inforamtion.textSearch') ?></label>
                <div class="col-sm-9 col-md-10">
                  <?= form_input(['class' => 'form-control', 'name' => 'p', 'value' => $params['p'] ?? '']) ?>
                </div>
              </div>
            </div>
            <div class="d-flex justify-content-md-center">
              <?= anchor('/informations',
                lang('App.clear'),
                'class="btn btn-secondary"'
              ) ?>
              <button class="btn btn-primary mx-2">
                <i class="fas fa-search"></i>
                <?= lang('App.search') ?>
              </button>
            </div>
            <?= form_close() ?>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="d-flex flex-column flex-md-row justify-content-between">
    <div class="my-1">
      <?= anchor('/informations/new',
        '<i class="fas fa-edit"></i> ' . lang('App.new'),
        'class="btn btn-primary"'
      ) ?>
    </div>
    <div class="my-1">
      <?= $information->pager->links() ?>
    </div>
  </div>
  <div class="my-2">
    <table class="table table-bordered">
      <thead class="table-light">
        <tr>
          <th scope="col" style="width:32px;"></th>
          <th scope="col"><?= lang('Information.subject') ?></th>
          <th scope="col"><?= lang('Information.releaseStartAt') ?></th>
          <th scope="col"><?= lang('Information.releaseFinishAt') ?></th>
          <th scope="col"><?= lang('Information.createdAt') ?></th>
          <th scope="col"><?= lang('Information.createdAt') ?></th>
          <th scope="col"><?= lang('Information.deletedAt') ?></th>
        </tr>
      </thead>
      <tbody>
        <?php foreach($information->items as $item) : ?>
        <tr>
          <th scope="row">
            <?= anchor('/informations/edit/' . $item->id, '<i class="fas fa-edit"></i>') ?>
          </th>
          <td><?= esc($item->subject) ?></td>
          <td><?= $item->releaseStartAt ?></td>
          <td><?= $item->releaseFinishAt ?></td>
          <td><?= $item->createdAt ?></td>
          <td><?= $item->updatedAt ?></td>
          <td><?= $item->deletedAt ?></td>
        </tr>
        <?php endforeach; ?>
      </tbody>
    </table>
  </div>
</div>
<?= $this->endSection() ?>

<?= $this->section('style') ?>
<?= $this->endSection() ?>

<?= $this->section('script') ?>
<?= $this->endSection() ?>
